/*
 * generated by Xtext
 */
package org.grammaticalframework.eclipse.ui;

import org.eclipse.jface.preference.IPreferenceStore;
import org.eclipse.ui.plugin.AbstractUIPlugin;
import org.grammaticalframework.eclipse.GFPreferences;
import org.grammaticalframework.eclipse.ui.perspectives.GFPerspectiveFactory;

/**
 * Use this class to register components to be used within the IDE.
 */
public class GFUiModule extends org.grammaticalframework.eclipse.ui.AbstractGFUiModule {

	// Constructor
	public GFUiModule(AbstractUIPlugin plugin) {
		super(plugin);
		
		GFPerspectiveFactory.createConsole();

		try {
			// Set default from environment variables
			plugin.getPreferenceStore().setDefault(GFPreferences.GF_BIN_PATH, System.getenv("HOME") + "/.cabal/bin/gf");
			plugin.getPreferenceStore().setDefault(GFPreferences.GF_LIB_PATH, System.getenv("GF_LIB_PATH"));
			plugin.getPreferenceStore().setDefault(GFPreferences.SHOW_DEBUG, true);
		} catch (SecurityException _) {	}
	}
	
	public Class<? extends org.eclipse.xtext.ui.editor.preferences.LanguageRootPreferencePage> bindLanguageRootPreferencePage() {
		return org.grammaticalframework.eclipse.ui.editor.preferences.GFLanguageRootPreferencePage.class;
	}
	
	
	@Override
	public Class<? extends org.eclipse.xtext.ui.editor.outline.IOutlineTreeProvider> bindIOutlineTreeProvider() {
		return org.grammaticalframework.eclipse.ui.outline.GFOutlineTreeProvider.class;
	}
//	@Override
//	public Class<? extends org.eclipse.xtext.ui.editor.outline.impl.IOutlineTreeStructureProvider> bindIOutlineTreeStructureProvider() {
//		return org.grammaticalframework.eclipse.ui.outline.GFOutlineTreeProvider.class;
//	}

	
	public Class<? extends org.eclipse.xtext.ui.editor.syntaxcoloring.IHighlightingConfiguration> bindIHighlightingConfiguration() {
		return org.grammaticalframework.eclipse.ui.editor.syntaxcoloring.GFHighlightingConfiguration.class;
	}
	public Class<? extends org.eclipse.xtext.ui.editor.syntaxcoloring.AbstractAntlrTokenToAttributeIdMapper> bindAbstractAntlrTokenToAttributeIdMapper() {
		return org.grammaticalframework.eclipse.ui.editor.syntaxcoloring.GFAntlrTokenToAttributeIdMapper.class;
	}
	
	// Remove the prompt for Xtext nature
	// Refer: http://www.eclipse.org/forums/index.php/mv/msg/173440/552043/#msg_552043
	@Override
	public Class<? extends org.eclipse.xtext.ui.editor.IXtextEditorCallback> bindIXtextEditorCallback() {
		return org.eclipse.xtext.ui.editor.validation.ValidatingEditorCallback.class;
	}
}
